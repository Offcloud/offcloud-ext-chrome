/*

notie - a clean and simple notification suite for javascript, with no dependencies

Copyright (c) 2016 Jared Reich

Licensed under the MIT license:
http://www.opensource.org/licenses/mit-license.php

Project demo:
https://jaredreich.com/projects/notie

*/

var notie=function(){function b(b){for(var c in b)a[c]=b[c]}function k(b,c,d){a.colorText.length>0&&(f.style.color=a.colorText),Wa(),j++,setTimeout(function(){j--},a.animationDelay+10),1===j&&(g?m(function(){l(b,c,d)}):l(b,c,d))}function l(b,d,e){g=!0;var j=0;switch(j="undefined"==typeof e||0===e?864e5:e>0&&e<1?1e3:1e3*e,Va(c,"notie-ext-background-success"),Va(c,"notie-ext-background-warning"),Va(c,"notie-ext-background-error"),Va(c,"notie-ext-background-info"),b){case 1:case"success":a.colorSuccess.length>0?c.style.backgroundColor=a.colorSuccess:Ua(c,"notie-ext-background-success");break;case 2:case"warning":a.colorWarning.length>0?c.style.backgroundColor=a.colorWarning:Ua(c,"notie-ext-background-warning");break;case 3:case"error":a.colorError.length>0?c.style.backgroundColor=a.colorError:Ua(c,"notie-ext-background-error");break;case 4:case"info":a.colorInfo.length>0?c.style.backgroundColor=a.colorInfo:Ua(c,"notie-ext-background-info")}f.innerHTML=d,c.style.top="-10000px",c.style.display="table",c.style.top="-"+c.offsetHeight-5+"px",h=setTimeout(function(){Ua(c,"notie-ext-transition"),c.style.top=0,i=setTimeout(function(){m(function(){})},j)},20)}function m(b){clearTimeout(h),clearTimeout(i),c.style.top="-"+c.offsetHeight-5+"px",setTimeout(function(){Va(c,"notie-ext-transition"),c.style.top="-10000px",g=!1,b&&b()},a.animationDelay+10)}function t(b,c,d,e){a.colorText.length>0&&(p.style.color=a.colorText,q.style.color=a.colorText),Wa(),g?m(function(){u(b,c,d,e)}):u(b,c,d,e)}function u(b,c,d,e){function f(){p.innerHTML=c,q.innerHTML=d,n.style.top="-10000px",n.style.display="table",n.style.top="-"+n.offsetHeight-5+"px",r.style.display="block",setTimeout(function(){Ua(n,"notie-ext-transition"),n.style.top=0,r.style.opacity="0.75",setTimeout(function(){s=!0},a.animationDelay+10)},20)}switch(Za(),q.onclick=function(){v(),e&&setTimeout(function(){e()},a.animationDelay+10)},Va(n,"notie-ext-background-success"),Va(n,"notie-ext-background-warning"),Va(n,"notie-ext-background-error"),Va(n,"notie-ext-background-info"),b){case 1:case"success":a.colorSuccess.length>0?n.style.backgroundColor=a.colorSuccess:Ua(n,"notie-ext-background-success");break;case 2:case"warning":a.colorWarning.length>0?n.style.backgroundColor=a.colorWarning:Ua(n,"notie-ext-background-warning");break;case 3:case"error":a.colorError.length>0?n.style.backgroundColor=a.colorError:Ua(n,"notie-ext-background-error");break;case 4:case"info":a.colorInfo.length>0?n.style.backgroundColor=a.colorInfo:Ua(n,"notie-ext-background-info")}s?(v(),setTimeout(function(){f()},a.animationDelay+10)):f()}function v(){n.style.top="-"+n.offsetHeight-5+"px",r.style.opacity="0",setTimeout(function(){Va(n,"notie-ext-transition"),n.style.top="-10000px",r.style.display="none",$a(),s=!1},a.animationDelay+10)}function F(b,c,d,e,f){a.colorInfo.length>0&&(x.style.backgroundColor=a.colorInfo),a.colorSuccess.length>0&&(z.style.backgroundColor=a.colorSuccess),a.colorError.length>0&&(A.style.backgroundColor=a.colorError),a.colorText.length>0&&(y.style.color=a.colorText,B.style.color=a.colorText,C.style.color=a.colorText),Wa(),g?m(function(){G(b,c,d,e,f)}):G(b,c,d,e,f)}function G(b,c,d,e,f){function g(){y.innerHTML=b,B.innerHTML=c,C.innerHTML=d,w.style.top="-10000px",w.style.display="table",w.style.top="-"+w.offsetHeight-5+"px",D.style.display="block",setTimeout(function(){Ua(w,"notie-ext-transition"),w.style.top=0,D.style.opacity="0.75",setTimeout(function(){E=!0},a.animationDelay+10)},20)}Za(),z.onclick=function(){H(),e&&setTimeout(function(){e()},a.animationDelay+10)},A.onclick=function(){H(),f&&setTimeout(function(){f()},a.animationDelay+10)},E?(H(),setTimeout(function(){g()},a.animationDelay+10)):g()}function H(){w.style.top="-"+w.offsetHeight-5+"px",D.style.opacity="0",setTimeout(function(){Va(w,"notie-ext-transition"),w.style.top="-10000px",D.style.display="none",$a(),E=!1},a.animationDelay+10)}function S(b,c,d,e,f,h){a.colorInfo.length>0&&(K.style.backgroundColor=a.colorInfo),a.colorSuccess.length>0&&(M.style.backgroundColor=a.colorSuccess),a.colorError.length>0&&(N.style.backgroundColor=a.colorError),a.colorText.length>0&&(O.style.color=a.colorText,P.style.color=a.colorText,Q.style.color=a.colorText),Wa(),L.setAttribute("autocapitalize",b.autocapitalize||"none"),L.setAttribute("autocomplete",b.autocomplete||"off"),L.setAttribute("autocorrect",b.autocorrect||"off"),L.setAttribute("autofocus",b.autofocus||"true"),L.setAttribute("inputmode",b.inputmode||"verbatim"),L.setAttribute("max",b.max||""),L.setAttribute("maxlength",b.maxlength||""),L.setAttribute("min",b.min||""),L.setAttribute("minlength",b.minlength||""),L.setAttribute("placeholder",b.placeholder||""),L.setAttribute("spellcheck",b.spellcheck||"default"),L.setAttribute("step",b.step||"any"),L.setAttribute("type",b.type||"text"),L.value=b.prefilledValue||"",b.allowed?L.oninput=function(){if(Array.isArray(b.allowed)){for(var a="",c=b.allowed,d=0;d<c.length;d++)"an"===c[d]?a+="0-9a-zA-Z":"a"===c[d]?a+="a-zA-Z":"n"===c[d]&&(a+="0-9"),"sp"===c[d]&&(a+=" ");var e=new RegExp("[^"+a+"]","g")}else"object"==typeof b.allowed&&(e=b.allowed);L.value=L.value.replace(e,"")}:L.oninput=function(){return!0},g?m(function(){T(c,d,e,f,h)}):T(c,d,e,f,h)}function T(b,c,d,e,f){function g(){O.innerHTML=b,P.innerHTML=c,Q.innerHTML=d,I.style.top="-10000px",I.style.display="table",I.style.top="-"+I.offsetHeight-5+"px",J.style.display="block",setTimeout(function(){Ua(I,"notie-ext-transition"),I.style.top=0,J.style.opacity="0.75",setTimeout(function(){R=!0,L.focus()},a.animationDelay+10)},20)}Za(),M.onclick=function(){U(),e&&setTimeout(function(){e(L.value)},a.animationDelay+10)},N.onclick=function(){U(),f&&setTimeout(function(){f(L.value)},a.animationDelay+10)},R?(U(),setTimeout(function(){g()},a.animationDelay+10)):g()}function U(){I.style.top="-"+I.offsetHeight-5+"px",J.style.opacity="0",setTimeout(function(){Va(I,"notie-ext-transition"),J.style.display="none",I.style.top="-10000px",$a(),R=!1},a.animationDelay+10)}function da(b,c,d,e,f,h){a.colorInfo.length>0&&(X.style.backgroundColor=a.colorInfo),a.colorSuccess.length>0&&(Z.style.backgroundColor=a.colorSuccess),a.colorError.length>0&&($.style.backgroundColor=a.colorError),a.colorText.length>0&&(_.style.color=a.colorText,aa.style.color=a.colorText,ba.style.color=a.colorText),Wa(),Y.setAttribute("autocapitalize",b.autocapitalize||"none"),Y.setAttribute("autocomplete",b.autocomplete||"off"),Y.setAttribute("autofocus",b.autofocus||"true"),Y.setAttribute("maxlength",b.maxlength||""),Y.setAttribute("min",b.min||""),Y.setAttribute("minlength",b.minlength||""),Y.setAttribute("placeholder",b.placeholder||""),Y.setAttribute("rows",b.rows||""),Y.setAttribute("spellcheck",b.spellcheck||"default"),Y.value=b.prefilledValue||"",b.allowed?Y.oninput=function(){if(Array.isArray(b.allowed)){for(var a="",c=b.allowed,d=0;d<c.length;d++)"an"===c[d]?a+="0-9a-zA-Z":"a"===c[d]?a+="a-zA-Z":"n"===c[d]&&(a+="0-9"),"sp"===c[d]&&(a+=" ");var e=new RegExp("[^"+a+"]","g")}else"object"==typeof b.allowed&&(e=b.allowed);Y.value=Y.value.replace(e,"")}:Y.oninput=function(){return!0},g?m(function(){ea(c,d,e,f,h)}):ea(c,d,e,f,h)}function ea(b,c,d,e,f){function g(){_.innerHTML=b,aa.innerHTML=c,ba.innerHTML=d,V.style.top="-10000px",V.style.display="table",V.style.top="-"+V.offsetHeight-5+"px",W.style.display="block",setTimeout(function(){Ua(V,"notie-ext-transition"),V.style.top=0,W.style.opacity="0.75",setTimeout(function(){ca=!0,Y.focus()},a.animationDelay+10)},20)}Za(),Z.onclick=function(){fa(),e&&setTimeout(function(){e(Y.value)},a.animationDelay+10)},$.onclick=function(){fa(),f&&setTimeout(function(){f(Y.value)},a.animationDelay+10)},ca?(fa(),setTimeout(function(){g()},a.animationDelay+10)):g()}function fa(){V.style.top="-"+V.offsetHeight-5+"px",W.style.opacity="0",setTimeout(function(){Va(V,"notie-ext-transition"),W.style.display="none",V.style.top="-10000px",$a(),ca=!1},a.animationDelay+10)}function na(b,c,d){a.colorInfo.length>0&&(ha.style.backgroundColor=a.colorInfo),a.colorNeutral.length>0&&(la.style.backgroundColor=a.colorNeutral),a.colorText.length>0&&(ia.style.color=a.colorText,la.style.color=a.colorText),Wa(),g?m(function(){oa(b,c,d)}):oa(b,c,d)}function oa(b,c,d){function h(b){ia.innerHTML=b,ga.style.bottom="-10000px",ga.style.display="table",ga.style.bottom="-"+ga.offsetHeight-5+"px",ja.style.display="block",setTimeout(function(){Ua(ga,"notie-ext-transition"),ga.style.bottom=0,ja.style.opacity="0.75",setTimeout(function(){ma=!0},a.animationDelay+10)},20)}Za(),document.getElementById("notie-ext-select-choices").innerHTML="",la.innerHTML=c;for(var e,f=0;f<d.length;f++){var g=document.createElement("div");if(g.innerHTML=d[f].title,Ua(g,"notie-ext-select-choice"),ka.appendChild(g),a.colorText.length>0&&(g.style.color=a.colorText),d[f].type)switch(d[f].type){case 1:a.colorSuccess.length>0?g.style.backgroundColor=a.colorSuccess:Ua(g,"notie-ext-background-success");break;case 2:a.colorWarning.length>0?g.style.backgroundColor=a.colorWarning:Ua(g,"notie-ext-background-warning");break;case 3:a.colorError.length>0?g.style.backgroundColor=a.colorError:Ua(g,"notie-ext-background-error");break;case 4:a.colorInfo.length>0?g.style.backgroundColor=a.colorInfo:Ua(g,"notie-ext-background-info")}else d[f].color&&(g.style.backgroundColor=d[f].color);if(g.style.backgroundColor=window.getComputedStyle(g).backgroundColor,f>0&&g.style.backgroundColor===e.style.backgroundColor&&Ua(e,"notie-ext-select-choice-bottom-border"),!d[f].handler)throw new Error('notie.select choice "'+g.title+'" must have a handler');g.onclick=function(b){return function(){pa(),setTimeout(function(){d[b].handler()},a.animationDelay+10)}}(f),e=g}ma?(pa(),setTimeout(function(){h(b)},a.animationDelay+10)):h(b)}function pa(){ga.style.bottom="-"+ga.offsetHeight-5+"px",ja.style.opacity="0",setTimeout(function(){Va(ga,"notie-ext-transition"),ga.style.bottom="-10000px",ja.style.display="none",$a(),ma=!1},a.animationDelay+10)}function qa(){return g||E||R||ma||Ia||ca}function Ka(b){a.colorInfo.length>0&&(ta.style.backgroundColor=a.colorInfo),a.colorSuccess.length>0&&(Fa.style.backgroundColor=a.colorSuccess),a.colorError.length>0&&(Ga.style.backgroundColor=a.colorError),a.colorText.length>0&&(ta.style.color=a.colorText),Wa(),g?m(function(){La(b)}):La(b)}function La(b){function c(){Ja=b.initial||new Date,Ma(Ja),Fa.innerHTML=b.yesText||"OK",Ga.innerHTML=b.noText||"Cancel",ra.style.top="-10000px",ra.style.display="table",ra.style.top="-"+ra.offsetHeight-5+"px",Ha.style.display="block",setTimeout(function(){Ua(ra,"notie-ext-transition"),ra.style.top=0,Ha.style.opacity="0.75",setTimeout(function(){Ia=!0},a.animationDelay+10)},20)}Za(),Fa.onclick=function(){Ta(),b.yesCallback&&setTimeout(function(){b.yesCallback(Ja)},a.animationDelay+10)},Ga.onclick=function(){Ta(),b.noCallback&&setTimeout(function(){b.noCallback(Ja)},a.animationDelay+10)},Ia?(Ta(),setTimeout(function(){c()},a.animationDelay+10)):c()}function Ma(b){za.innerHTML=a.dateMonths[b.getMonth()],Aa.innerHTML=b.getDate(),Ba.innerHTML=b.getFullYear()}function Na(){Ja.setMonth(Ja.getMonth()-1),Ma(Ja)}function Oa(){Ja.setMonth(Ja.getMonth()+1),Ma(Ja)}function Pa(){Ja.setDate(Ja.getDate()-1),Ma(Ja)}function Qa(){Ja.setDate(Ja.getDate()+1),Ma(Ja)}function Ra(){Ja.setFullYear(Ja.getFullYear()-1),Ma(Ja)}function Sa(){Ja.setFullYear(Ja.getFullYear()+1),Ma(Ja)}function Ta(){ra.style.top="-"+ra.offsetHeight-5+"px",Ha.style.opacity="0",setTimeout(function(){Va(ra,"notie-ext-transition"),ra.style.top="-10000px",Ha.style.display="none",$a(),Ia=!1},a.animationDelay+10)}function Ua(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function Va(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}function Wa(){document.activeElement&&document.activeElement.blur()}function Za(){Xa=document.body.style.height,Ya=document.body.style.overflow,document.body.style.height="100%",document.body.style.overflow="hidden"}function $a(){document.body.style.height=Xa,document.body.style.overflow=Ya}var a={colorSuccess:"",colorWarning:"",colorError:"",colorInfo:"",colorNeutral:"",colorText:"",dateMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],animationDelay:300,backgroundClickDismiss:!0},c=document.createElement("div");c.id="notie-ext-alert-outer",c.onclick=function(){m()},document.body.appendChild(c);var d=document.createElement("div");d.id="notie-ext-alert-inner",c.appendChild(d);var e=document.createElement("div");e.id="notie-ext-alert-content",d.appendChild(e);var f=document.createElement("span");f.id="notie-ext-alert-text",e.appendChild(f);var h,i,g=!1,j=0,n=document.createElement("div");n.id="notie-ext-force-outer";var o=document.createElement("div");o.id="notie-ext-force-inner",n.appendChild(o);var p=document.createElement("span");p.id="notie-ext-force-text",o.appendChild(p);var q=document.createElement("div");q.id="notie-ext-force-button",n.appendChild(q);var r=document.createElement("div");r.id="notie-ext-force-background",Ua(r,"notie-ext-transition"),document.body.appendChild(n),document.body.appendChild(r);var s=!1,w=document.createElement("div");w.id="notie-ext-confirm-outer";var x=document.createElement("div");x.id="notie-ext-confirm-inner",w.appendChild(x);var y=document.createElement("span");y.id="notie-ext-confirm-text",x.appendChild(y);var z=document.createElement("div");z.id="notie-ext-confirm-yes",w.appendChild(z);var A=document.createElement("div");A.id="notie-ext-confirm-no",w.appendChild(A);var B=document.createElement("span");B.id="notie-ext-confirm-text-yes",z.appendChild(B);var C=document.createElement("span");C.id="notie-ext-confirm-text-no",A.appendChild(C);var D=document.createElement("div");D.id="notie-ext-confirm-background",Ua(D,"notie-ext-transition"),D.onclick=function(){a.backgroundClickDismiss&&H()},document.body.appendChild(D),document.body.appendChild(w);var E=!1,I=document.createElement("div");I.id="notie-ext-input-outer";var J=document.createElement("div");J.id="notie-ext-input-background",Ua(J,"notie-ext-transition");var K=document.createElement("div");K.id="notie-ext-input-inner",I.appendChild(K);var L=document.createElement("input");L.id="notie-ext-input-field",I.appendChild(L);var M=document.createElement("div");M.id="notie-ext-input-yes",I.appendChild(M);var N=document.createElement("div");N.id="notie-ext-input-no",I.appendChild(N);var O=document.createElement("span");O.id="notie-ext-input-text",K.appendChild(O);var P=document.createElement("span");P.id="notie-ext-input-text-yes",M.appendChild(P);var Q=document.createElement("span");Q.id="notie-ext-input-text-no",N.appendChild(Q),document.body.appendChild(I),document.body.appendChild(J),J.onclick=function(){a.backgroundClickDismiss&&U()};var R=!1,V=document.createElement("div");V.id="notie-ext-textarea-outer";var W=document.createElement("div");W.id="notie-ext-textarea-background",Ua(W,"notie-ext-transition");var X=document.createElement("div");X.id="notie-ext-textarea-inner",V.appendChild(X);var Y=document.createElement("textarea");Y.id="notie-ext-textarea-field",V.appendChild(Y);var Z=document.createElement("div");Z.id="notie-ext-textarea-yes",V.appendChild(Z);var $=document.createElement("div");$.id="notie-ext-textarea-no",V.appendChild($);var _=document.createElement("span");_.id="notie-ext-textarea-text",X.appendChild(_);var aa=document.createElement("span");aa.id="notie-ext-textarea-text-yes",Z.appendChild(aa);var ba=document.createElement("span");ba.id="notie-ext-textarea-text-no",$.appendChild(ba),document.body.appendChild(W),document.body.appendChild(V),W.onclick=function(){a.backgroundClickDismiss&&fa()};var ca=!1,ga=document.createElement("div");ga.id="notie-ext-select-outer";var ha=document.createElement("div");ha.id="notie-ext-select-inner",ga.appendChild(ha);var ia=document.createElement("span");ia.id="notie-ext-select-text",ha.appendChild(ia);var ja=document.createElement("div");ja.id="notie-ext-select-background",Ua(ja,"notie-ext-transition");var ka=document.createElement("div");ka.id="notie-ext-select-choices",ga.appendChild(ka);var la=document.createElement("div");la.id="notie-ext-select-cancel",ga.appendChild(la),document.body.appendChild(ga),document.body.appendChild(ja),ja.onclick=function(){a.backgroundClickDismiss&&pa()},la.onclick=function(){pa()};var ma=!1,ra=document.createElement("div");ra.id="notie-ext-date-outer";var sa=document.createElement("div");sa.id="notie-ext-date-selector",ra.appendChild(sa);var ta=document.createElement("div");ta.id="notie-ext-date-inner",ra.appendChild(ta);var ua='<div class="notie-ext-date-arrow-up"></div>',va='<div class="notie-ext-date-arrow-down"></div>',wa=document.createElement("div");wa.className="notie-ext-date-up",wa.innerHTML=ua,sa.appendChild(wa),wa.onclick=Na;var xa=document.createElement("div");xa.className="notie-ext-date-up",xa.innerHTML=ua,sa.appendChild(xa),xa.onclick=Pa;var ya=document.createElement("div");ya.className="notie-ext-date-up",ya.innerHTML=ua,sa.appendChild(ya),ya.onclick=Ra;var za=document.createElement("div");za.className="notie-ext-date-text",sa.appendChild(za);var Aa=document.createElement("div");Aa.className="notie-ext-date-text",sa.appendChild(Aa);var Ba=document.createElement("div");Ba.className="notie-ext-date-text",sa.appendChild(Ba);var Ca=document.createElement("div");Ca.className="notie-ext-date-down",Ca.innerHTML=va,sa.appendChild(Ca),Ca.onclick=Oa;var Da=document.createElement("div");Da.className="notie-ext-date-down",Da.innerHTML=va,sa.appendChild(Da),Da.onclick=Qa;var Ea=document.createElement("div");Ea.className="notie-ext-date-down",Ea.innerHTML=va,sa.appendChild(Ea),Ea.onclick=Sa;var Fa=document.createElement("div");Fa.id="notie-ext-date-yes",ta.appendChild(Fa);var Ga=document.createElement("div");Ga.id="notie-ext-date-no",ta.appendChild(Ga);var Ha=document.createElement("div");Ha.id="notie-ext-date-background",Ua(Ha,"notie-ext-transition"),Ha.onclick=function(){a.backgroundClickDismiss&&Ta()},document.body.appendChild(ra),document.body.appendChild(Ha);var Ja,Xa,Ya,Ia=!1;return window.addEventListener("keydown",function(a){var b=13===a.which||13===a.keyCode,c=27===a.which||27===a.keyCode;g?(b||c)&&m():E?b?z.click():c&&H():R?b?M.click():c&&U():ma?c&&pa():Ia&&(b?Fa.click():c&&Ta())}),{setOptions:b,alert:k,alertHide:m,force:t,confirm:F,input:S,textarea:da,select:na,date:Ka,isShowing:qa}};"undefined"!=typeof window&&window&&("object"==typeof module&&module.exports?module.exports=notie():window.notie=notie());